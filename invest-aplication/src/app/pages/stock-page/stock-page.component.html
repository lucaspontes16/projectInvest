<div class="stock-page-container">
    <h1>Popular Stocks</h1>

    <!-- Entrada de busca -->
    <div class="search-bar">
        <input [(ngModel)]="searchQuery" placeholder="Search for a stock" />
        <button (click)="onSearch()">Search</button>
    </div>

    <!-- Mensagem de erro -->
    <div *ngIf="errorMessage" class="alert alert-danger">
        {{ errorMessage }}
    </div>

    <!-- Lista de ações populares -->
    <div>
        <h2>Examples</h2>
        <ul>
            <li *ngFor="let stock of popularStocks" (click)="loadStockExample(stock.ticker)" style="cursor: pointer;">
                {{ stock.name }} ({{ stock.ticker }})
            </li>
        </ul>
    </div>

    <!-- Resultados da busca -->
    <div *ngIf="searchResults.length > 0">
        <h2>Search Results</h2>
        <table>
            <thead>
                <tr>
                    <th>Symbol</th>
                    <th>Name</th>
                    <th>Price</th>
                    <th>Change</th>
                    <th>Change %</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let stock of searchResults" (click)="goToStockDetails(stock.ticker)"
                    style="cursor: pointer;">
                    <td>{{ stock.ticker }}</td>
                    <td>{{ stock.name || 'N/A' }}</td>
                    <td>{{ stock.price | currency: 'USD' }}</td>
                    <td [class.positive]="stock.change >= 0" [class.negative]="stock.change < 0">
                        {{ stock.change | number: '1.2-2' }}
                    </td>
                    <td [class.positive]="stock.changePercentage >= 0" [class.negative]="stock.changePercentage < 0">
                        {{ stock.changePercentage | percent: '1.2-2' }}
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>